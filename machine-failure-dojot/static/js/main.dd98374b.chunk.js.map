{"version":3,"sources":["assets/logoMaquina.png","serviceWorker.js","utils.js","components/MachineHeader/index.js","components/UrlInput/index.js","components/MeasuresChart/index.js","components/MachineContent/machines_mock.js","components/FailureChart/index.js","services/api.js","components/MachineContent/index.js","services/mqtt.js","components/MachineContainer/index.js","routes/main.js","pages/Machine/index.js","components/App/index.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","getCurrentRoute","mainRoutes","currentRoute","find","route","path","pathname","MainHeader","className","src","logoMaquina","alt","theme","mode","selectedKeys","defaultProps","UrlInput","state","url","deviceSensors","deviceStatus","isModalVisible","showModal","setState","setUrl","e","target","value","setDeviceSensors","setDeviceStatus","handleOk","props","onUrlSet","handleCancel","this","title","width","visible","onOk","onCancel","okText","cancelText","okButtonProps","labelCol","span","wrapperCol","name","Item","label","placeholder","onChange","onPressEnter","onClick","React","Component","Chart","elements","Rectangle","prototype","draw","left","right","top","bottom","signX","signY","borderSkipped","ctx","_chart","vm","_view","borderWidth","cornerRadius","config","options","fullCornerRadius","stackedRounded","typeOfChart","type","horizontal","base","x","y","height","barSize","Math","min","abs","halfStroke","borderLeft","borderRight","borderTop","borderBottom","beginPath","fillStyle","backgroundColor","strokeStyle","borderColor","lineWidth","corners","startCorner","indexOf","cornerAt","index","nextCornerId","corner","moveTo","i","radius","x_tl","x_tr","y_tl","y_tr","x_bl","x_br","y_bl","y_br","floor","lineTo","quadraticCurveTo","lastVisible","findLast","findLastTo","data","datasets","length","getDatasetMeta","hidden","_datasetIndex","fill","stroke","MeasuresChart","legend","display","tooltips","enabled","maintainAspectRatio","scales","xAxes","gridLines","ticks","fontColor","fontFamily","fontSize","autoSkip","maxRotation","minRotation","yAxes","beginAtZero","stepSize","FailureChart","animation","duration","text","lineHeight","maxBarThickness","max","callback","values","machines","callbacks","tooltipItem","yLabel","toFixed","replace","post","pathArray","split","baseURL","slice","join","axios","create","Option","Select","MachineContent","handleUrlSet","interval","clearInterval","dataList","Array","map","n","predictionList","onSensorData","onStatusData","client","connect","topicSensors","topicStatus","on","subscribe","err","publish","console","log","topic","message","toString","connectToDojot","push","handleMachineSelected","machine","machineIndex","score","measuresData","failureData","date","ndarray","filter","d","Object","names","keys","response","status","forEach","arr","idx","findIndex","colors","yesIndex","prediction","r","machineData","labels","error","layout","style","key","float","margin","gutter","shape","Header","Layout","Content","MachineContainer","MachineHeader","exact","icon","component","App","mainRoute","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.dd98374b.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAcCAYAAAATFf3WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIOSURBVHgB5VbdccIwDFZ6fW9GyAalE5QRsgHpBLABbBCYgDIBMEHSCWADsgFs4EqxTNXUiRNQrw/97nSJY1v+Ilk/AC0wxsxRzqY/DigJKCMCP7kUH1uUHcoG5QLdiFFyfn+Joii0/j4gwYxMMnBPzBYfgyIeOuYqGAC22hElBUU8gC4+UF5BEdoES5QRuRuUoEIQCU1RRmBdTK5Wc7OWBYnQnO9hhTICJXQRTAZE5AplzHmQ3JuAEh4D8wUeWkI/ELETKCNEkDCGP4R2FKvjfxPk9JOBNlwtvgMn1uO6oVwmb3zf3tX5KBA8sB5KVSdHmscJjwu4FcZ2JgdzG8hqaUPXUswtxdo8xCUKEKWKMLSuHn39IOqa4WPu0Zfh+g2EiJDJhTs0QZ6Y8jnS5dLiraUxMvay0p2h7nkP4e55KBKwlivRUm98XrPiVNDWiRsbUWv4RbDl6m7bfAVJE0Xb5mubzpu37Ja0Zf2U59fGkyqMDQqnIxPfabzoIEjIfQcaQXDd2BB7LCGx8+hr6nC6ix4ECROpr1lJRoFxMwKf4CfiwDiEpfQMEbwIJTLcKV2UcieOqWM+ik8rzwHyW4V7pJX7BCBxKa7eY9NfLyi7oLMjNvayxx3ztQ63ht+N+V5JQqg5uTRTiL/XTjPPKBnpRmsumPS5595FXUmY5IyVaYN+eI/k3t0HY6N70mfvJ7Yoh6owT8fGAAAAAElFTkSuQmCC\"","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const getCurrentRoute = (location, mainRoutes) => {\n  // search for current path in mainRoutes\n  let currentRoute = mainRoutes.find((route) => {\n    return route.path === location.pathname;\n  });\n\n  // current path not in mainRoutes\n  if (!currentRoute)\n    currentRoute = mainRoutes.find((route) => {\n      return route.path === '*';\n    });\n\n  return currentRoute;\n};\n\nexport default getCurrentRoute;\n","/*\n  Main application header.\n  This component is responsible for displaying the logo and main menu of\n  the application.\n  This component is also responsible for changing the main routes of the application according to menu clicks.\n*/\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { Menu } from 'antd';\n\nimport logoMaquina from '../../assets/logoMaquina.png';\n\nimport './style.scss';\n\nimport getCurrentRoute from '../../utils';\n\nconst MainHeader = ({ location, mainRoutes }) => (\n  <div>\n    {/* left logo PlatIAgro */}\n    <div className='logo'>\n      <img src={logoMaquina} alt='Falha em Máquina' />\n      <span className='machine-header-title'>Falha em Máquina</span>\n    </div>\n    <Menu\n      className='machine-header-menu'\n      theme='dark'\n      mode='horizontal'\n      selectedKeys={[\n        location && mainRoutes\n          ? getCurrentRoute(location, mainRoutes).path\n          : null,\n      ]}\n    >\n    </Menu>\n  </div>\n);\n\nMainHeader.propTypes = {\n  location: PropTypes.objectOf(PropTypes.any),\n  mainRoutes: PropTypes.arrayOf(PropTypes.any),\n};\n\nMainHeader.defaultProps = {\n  location: null,\n  mainRoutes: null,\n};\n\nexport default MainHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './style.scss';\n\nimport { Button, Form, Input, Modal } from 'antd';\n\nclass UrlInput extends React.Component {\n  state = {\n    url: '',\n    deviceSensors: '',\n    deviceStatus: '',\n    isModalVisible: false\n  };\n\n  showModal = () => {\n    this.setState({ isModalVisible: true });\n  };\n\n  setUrl = (e) => {\n    this.setState({ url: e.target.value })\n  }\n\n  setDeviceSensors = (e) => {\n    this.setState({ deviceSensors: e.target.value })\n  }\n\n  setDeviceStatus = (e) => {\n    this.setState({ deviceStatus: e.target.value })\n  }\n\n  handleOk = () => {\n    this.setState({ isModalVisible: false });\n    this.props.onUrlSet(this.state.url, this.state.deviceSensors, this.state.deviceSensors);\n  }\n\n  handleCancel = () => {\n    this.setState({ isModalVisible: false });\n  }\n\n  render() {\n    const { isModalVisible } = this.state;\n    const { theme } = this.props;\n    const layout = {\n      labelCol: { span: 8 },\n      wrapperCol: { span: 16 },\n    };\n    return (\n      <>\n        <Modal\n          title='Informar URL e Dispositivos'\n          width={600}\n          visible={isModalVisible}\n          onOk={this.handleOk}\n          onCancel={this.handleCancel}\n          okText='OK'\n          cancelText='Cancelar'\n          okButtonProps={{className: theme}}\n        >\n          <Form\n            {...layout}\n            name='url'\n          >\n            <Form.Item\n              label='URL'\n              name='url'\n            >\n              <Input placeholder='http://xx.xx.xx.xx' onChange={this.setUrl} onPressEnter={this.handleOk} />\n            </Form.Item>\n            <Form.Item\n              label='Dispositivo - Sensores'\n              name='sensors'\n            >\n              <Input placeholder='xxxxx' onChange={this.setDeviceSensors} onPressEnter={this.handleOk} />\n            </Form.Item>\n            <Form.Item\n              label='Dispositivo - Status'\n              name='status'\n            >\n              <Input placeholder='xxxxx' onChange={this.setDeviceStatus} onPressEnter={this.handleOk} />\n            </Form.Item>\n          </Form>\n        </Modal>\n\n        <div className='center-box'>\n          <h1>Configuração da plataforma dojot</h1>\n          <p>Informe a URL e Dispositivos da plataforma dojot</p>\n          <Button\n            className={theme}\n            onClick={this.showModal}>\n            Informar\n          </Button>\n        </div>\n      </>\n    );\n  }\n}\n\n\nUrlInput.propTypes = {\n  onUrlSet: PropTypes.func,\n  theme: PropTypes.string\n};\n\nexport default UrlInput;\n","import React from 'react';\n\nimport { Bar } from 'react-chartjs-2';\n\nimport Chart from 'chart.js';\nChart.elements.Rectangle.prototype.draw = function () {\n  var ctx = this._chart.ctx;\n  var vm = this._view;\n  var left, right, top, bottom, signX, signY, borderSkipped, radius;\n  var borderWidth = vm.borderWidth;\n\n  // If radius is less than 0 or is large enough to cause drawing errors a max\n  //      radius is imposed. If cornerRadius is not defined set it to 0.\n  var cornerRadius = this._chart.config.options.cornerRadius;\n  var fullCornerRadius = this._chart.config.options.fullCornerRadius;\n  var stackedRounded = this._chart.config.options.stackedRounded;\n  var typeOfChart = this._chart.config.type;\n\n  if (cornerRadius < 0) {\n    cornerRadius = 0;\n  }\n  if (typeof cornerRadius == 'undefined') {\n    cornerRadius = 0;\n  }\n  if (typeof fullCornerRadius == 'undefined') {\n    fullCornerRadius = false;\n  }\n  if (typeof stackedRounded == 'undefined') {\n    stackedRounded = false;\n  }\n\n  if (!vm.horizontal) {\n    // bar\n    left = vm.x - vm.width / 2;\n    right = vm.x + vm.width / 2;\n    top = vm.y;\n    bottom = vm.base;\n    signX = 1;\n    signY = bottom > top ? 1 : -1;\n    borderSkipped = vm.borderSkipped || 'bottom';\n  } else {\n    // horizontal bar\n    left = vm.base;\n    right = vm.x;\n    top = vm.y - vm.height / 2;\n    bottom = vm.y + vm.height / 2;\n    signX = right > left ? 1 : -1;\n    signY = 1;\n    borderSkipped = vm.borderSkipped || 'left';\n  }\n\n  // Canvas doesn't allow us to stroke inside the width so we can\n  // adjust the sizes to fit if we're setting a stroke on the line\n  if (borderWidth) {\n    // borderWidth shold be less than bar width and bar height.\n    var barSize = Math.min(Math.abs(left - right), Math.abs(top - bottom));\n    borderWidth = borderWidth > barSize ? barSize : borderWidth;\n    var halfStroke = borderWidth / 2;\n    // Adjust borderWidth when bar top position is near vm.base(zero).\n    var borderLeft = left + (borderSkipped !== 'left' ? halfStroke * signX : 0);\n    var borderRight = right + (borderSkipped !== 'right' ? -halfStroke * signX : 0);\n    var borderTop = top + (borderSkipped !== 'top' ? halfStroke * signY : 0);\n    var borderBottom = bottom + (borderSkipped !== 'bottom' ? -halfStroke * signY : 0);\n    // not become a vertical line?\n    if (borderLeft !== borderRight) {\n      top = borderTop;\n      bottom = borderBottom;\n    }\n    // not become a horizontal line?\n    if (borderTop !== borderBottom) {\n      left = borderLeft;\n      right = borderRight;\n    }\n  }\n\n  ctx.beginPath();\n  ctx.fillStyle = vm.backgroundColor;\n  ctx.strokeStyle = vm.borderColor;\n  ctx.lineWidth = borderWidth;\n\n  // Corner points, from bottom-left to bottom-right clockwise\n  // | 1 2 |\n  // | 0 3 |\n  var corners = [\n    [left, bottom],\n    [left, top],\n    [right, top],\n    [right, bottom]\n  ];\n\n  // Find first (starting) corner with fallback to 'bottom'\n  var borders = ['bottom', 'left', 'top', 'right'];\n  var startCorner = borders.indexOf(borderSkipped, 0);\n  if (startCorner === -1) {\n    startCorner = 0;\n  }\n\n  function cornerAt(index) {\n    return corners[(startCorner + index) % 4];\n  }\n\n  // Draw rectangle from 'startCorner'\n  var corner = cornerAt(0);\n  ctx.moveTo(corner[0], corner[1]);\n\n  // eslint-disable-next-line\n  var nextCornerId, nextCorner, width, height, x, y;\n  for (var i = 1; i < 4; i++) {\n    corner = cornerAt(i);\n    nextCornerId = i + 1;\n    if (nextCornerId === 4) {\n      nextCornerId = 0\n    }\n\n    nextCorner = cornerAt(nextCornerId);\n\n    width = corners[2][0] - corners[1][0];\n    height = corners[0][1] - corners[1][1];\n    x = corners[1][0];\n    y = corners[1][1];\n\n    // eslint-disable-next-line\n    var radius = cornerRadius;\n    // Fix radius being too large\n    if (radius > Math.abs(height) / 2) {\n      radius = Math.floor(Math.abs(height) / 2);\n    }\n    if (radius > Math.abs(width) / 2) {\n      radius = Math.floor(Math.abs(width) / 2);\n    }\n\n    var x_tl, x_tr, y_tl, y_tr, x_bl, x_br, y_bl, y_br;\n    if (height < 0) {\n      // Negative values in a standard bar chart\n      x_tl = x;\n      x_tr = x + width;\n      y_tl = y + height;\n      y_tr = y + height;\n\n      x_bl = x;\n      x_br = x + width;\n      y_bl = y;\n      y_br = y;\n\n      // Draw\n      ctx.moveTo(x_bl + radius, y_bl);\n\n      ctx.lineTo(x_br - radius, y_br);\n\n      // bottom right\n      ctx.quadraticCurveTo(x_br, y_br, x_br, y_br - radius);\n\n\n      ctx.lineTo(x_tr, y_tr + radius);\n\n      // top right\n      fullCornerRadius ? ctx.quadraticCurveTo(x_tr, y_tr, x_tr - radius, y_tr) : ctx.lineTo(x_tr, y_tr, x_tr - radius, y_tr);\n\n\n      ctx.lineTo(x_tl + radius, y_tl);\n\n      // top left\n      fullCornerRadius ? ctx.quadraticCurveTo(x_tl, y_tl, x_tl, y_tl + radius) : ctx.lineTo(x_tl, y_tl, x_tl, y_tl + radius);\n\n\n      ctx.lineTo(x_bl, y_bl - radius);\n\n      //  bottom left\n      ctx.quadraticCurveTo(x_bl, y_bl, x_bl + radius, y_bl);\n\n    } else if (width < 0) {\n      // Negative values in a horizontal bar chart\n      x_tl = x + width;\n      x_tr = x;\n      y_tl = y;\n      y_tr = y;\n\n      x_bl = x + width;\n      x_br = x;\n      y_bl = y + height;\n      y_br = y + height;\n\n      // Draw\n      ctx.moveTo(x_bl + radius, y_bl);\n\n      ctx.lineTo(x_br - radius, y_br);\n\n      //  Bottom right corner\n      fullCornerRadius ? ctx.quadraticCurveTo(x_br, y_br, x_br, y_br - radius) : ctx.lineTo(x_br, y_br, x_br, y_br - radius);\n\n      ctx.lineTo(x_tr, y_tr + radius);\n\n      // top right Corner\n      fullCornerRadius ? ctx.quadraticCurveTo(x_tr, y_tr, x_tr - radius, y_tr) : ctx.lineTo(x_tr, y_tr, x_tr - radius, y_tr);\n\n      ctx.lineTo(x_tl + radius, y_tl);\n\n      // top left corner\n      ctx.quadraticCurveTo(x_tl, y_tl, x_tl, y_tl + radius);\n\n      ctx.lineTo(x_bl, y_bl - radius);\n\n      //  bttom left corner\n      ctx.quadraticCurveTo(x_bl, y_bl, x_bl + radius, y_bl);\n\n    } else {\n\n      var lastVisible = 0;\n      for (var findLast = 0, findLastTo = this._chart.data.datasets.length; findLast < findLastTo; findLast++) {\n        if (!this._chart.getDatasetMeta(findLast).hidden) {\n          lastVisible = findLast;\n        }\n      }\n      var rounded = this._datasetIndex === lastVisible;\n\n      if (rounded) {\n        //Positive Value\n        ctx.moveTo(x + radius, y);\n\n        ctx.lineTo(x + width - radius, y);\n\n        // top right\n        ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n\n\n        ctx.lineTo(x + width, y + height - radius);\n\n        // bottom right\n        if (fullCornerRadius || typeOfChart === 'horizontalBar')\n          ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n        else\n          ctx.lineTo(x + width, y + height, x + width - radius, y + height);\n\n\n        ctx.lineTo(x + radius, y + height);\n\n        // bottom left\n        if (fullCornerRadius)\n          ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n        else\n          ctx.lineTo(x, y + height, x, y + height - radius);\n\n\n        ctx.lineTo(x, y + radius);\n\n        // top left\n        if (fullCornerRadius || typeOfChart === 'bar')\n          ctx.quadraticCurveTo(x, y, x + radius, y);\n        else\n          ctx.lineTo(x, y, x + radius, y);\n      } else {\n        ctx.moveTo(x, y);\n        ctx.lineTo(x + width, y);\n        ctx.lineTo(x + width, y + height);\n        ctx.lineTo(x, y + height);\n        ctx.lineTo(x, y);\n      }\n    }\n\n  }\n\n  ctx.fill();\n  if (borderWidth) {\n    ctx.stroke();\n  }\n};\n\nconst MeasuresChart = (props) => {\n  const { data } = props;\n  return (\n    <>\n      <Bar\n        data={data}\n        height={200}\n        options={{\n          legend: {\n            display: false\n          },\n          tooltips: {\n            enabled: false\n          },\n          maintainAspectRatio: false,\n          cornerRadius: 2,\n          scales: {\n            xAxes: [{\n              gridLines: {\n                display: false\n              },\n              ticks: {\n                fontColor: '#333',\n                fontFamily: 'Open Sans',\n                fontSize: 14,\n                autoSkip: false,\n                maxRotation: 0,\n                minRotation: 0\n              }\n            }],\n            yAxes: [{\n              gridLines: {\n                display: false\n              },\n              ticks: {\n                fontColor: '#333',\n                fontFamily: 'Open Sans',\n                fontSize: 16,\n                beginAtZero: true,\n                stepSize: 400\n              }\n            }]\n          }\n        }}\n      />\n    </>\n  );\n};\n\nexport default MeasuresChart;\n","const data = [\n  'Maquina1',\n];\n\nexport default data;\n","import React from 'react';\n\nimport { Bubble } from 'react-chartjs-2';\n\nimport machines from '../MachineContent/machines_mock';\n\n// import chart_mock from './chart_mock';\n\nconst FailureChart = (props) => {\n  const { data } = props;\n  return (\n    <>\n      <Bubble\n        data={data}\n        height={300}\n        options={{\n          animation: {\n            duration: 0\n          },\n          title: {\n            display: true,\n            text: ' ',\n            lineHeight: 2.5,\n          },\n          maintainAspectRatio: false,\n          legend: {\n            display: false\n          },\n          scales: {\n            xAxes: [{\n              maxBarThickness: 42,\n              gridLines: {\n                display: false\n              },\n              ticks: {\n                min: 0,\n                max: 9,\n                fontColor: '#333',\n                fontFamily: 'Open Sans',\n                fontSize: 14,\n                callback: function(value, index, values) {\n                  if (value === 0 || value > 8) {\n                    return '';\n                  }\n                  return machines[index - 1];\n                }\n              }\n            }],\n            yAxes: [{\n              gridLines: {\n                display: false\n              },\n              ticks: {\n                fontColor: '#333',\n                fontFamily: 'Open Sans',\n                fontSize: 14,\n                beginAtZero: true,\n                stepSize: 0.2,\n                min: 0,\n                max: 1.0,\n              }\n            }]\n          },\n          tooltips: {\n            callbacks: {\n              label: function(tooltipItem, data) {\n                return 'Score: ' + tooltipItem.yLabel.toFixed(2).replace('.', ',');\n              }\n            }\n          }\n        }}\n      />\n    </>\n  );\n};\n\nexport default FailureChart;\n","import axios from 'axios';\n\nconst post = (url, data) => {\n  const pathArray = url.split('/');\n  const protocol = pathArray[0];\n  const host = pathArray[2];\n  const baseURL = protocol + '//' + host;\n  const path = pathArray.slice(3).join('/');\n  const api = axios.create({\n    baseURL: baseURL,\n  });\n  return api.post(path, data);\n};\n\nexport { post };\n","import React from 'react';\nimport './style.scss';\n\nimport { Row, Col, Button, Modal, Input, Select, Form, message } from 'antd';\n\nimport UrlInput from '../UrlInput';\nimport MeasuresChart from '../MeasuresChart';\nimport FailureChart from '../FailureChart';\nimport machines from './machines_mock';\n\nimport { post } from '../../services/api';\nimport { connectToDojot } from '../../services/mqtt';\n\nconst { Option } = Select;\n\nclass MachineContent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      url: '',\n      deviceSensors: '',\n      deviceStatus: '',\n      isModalVisible: false,\n      machine: 'Maquina1',\n      machineIndex: 6,\n      score: '',\n      measuresData: {},\n      failureData: {}\n    };\n    this.dataList = new Array(machines.length).fill(null).map(n => []);\n    this.predictionList = new Array(machines.length).fill(null).map(n => []);\n  }\n\n  async componentWillUnmount() {\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n  }\n\n  showModal = () => {\n    this.setState({ isModalVisible: true });\n  };\n\n  handleOk = () => {\n    this.setState({ isModalVisible: false });\n    this.handleUrlSet(this.state.url, this.state.deviceSensors, this.state.deviceStatus);\n  }\n\n  handleCancel = () => {\n    this.setState({ isModalVisible: false });\n  }\n\n  handleUrlSet = (url, deviceSensors, deviceStatus) => {\n    // const { data } = this.props;\n\n    this.setState({ url: url });\n\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n\n    this.dataList = new Array(machines.length).fill(null).map(n => []);\n    this.predictionList = new Array(machines.length).fill(null).map(n => []);\n\n    const setData = (data) => {\n      const machineIndex = 0;\n      this.dataList[machineIndex].push(data);\n    };\n\n    const setPrediction = (data) => {\n      const machineIndex = 0;\n      this.predictionList[machineIndex].push(data);\n    };\n\n    connectToDojot(url, deviceSensors, deviceStatus, setData, setPrediction);\n\n    // let i = 0;\n    // let date = data[i][\"Data\"];\n    // this.postData(url, date);\n    // // Finds next date\n    // while (++i < data.length) {\n    //   if (data[i][\"Data\"] !== date) {\n    //     date = data[i][\"Data\"];\n    //     break;\n    //   }\n    // }\n\n    // // Every 4 seconds, sends data from a date for prediction\n    // this.interval = setInterval(() => {\n    //   this.postData(url, date);\n    //   // Finds next date\n    //   while (++i < data.length) {\n    //     if (data[i][\"Data\"] !== date) {\n    //       date = data[i][\"Data\"];\n    //       break;\n    //     }\n    //   }\n    //   // After all data has been sent,\n    //   // resets counter and starts all over again\n    //   if (i === data.length) {\n    //     i = 0;\n    //     date = data[i][\"Data\"];\n    //   }\n    // }, 2000);\n  }\n\n  handleMachineSelected = (machine) => {\n    this.setState({ machine: machine, machineIndex: machines.indexOf(machine) });\n  }\n\n  async postData(url, date) {\n    const { data } = this.props;\n    const ndarray = data.filter(d => d[\"Data\"] === date).map(Object.values);\n    const names = Object.keys(data[0]);\n    const response = await post(\n      url, {\n      'data': {\n        'ndarray': ndarray,\n        'names': names\n      }\n    });\n    if (response.status === 200) {\n      ndarray.forEach((arr, idx) => {\n        const machineIndex = machines.findIndex(machine => machine === arr[3]);\n        this.dataList[machineIndex].push(arr);\n        this.predictionList[machineIndex].push(response.data.data.ndarray[idx]);\n      });\n\n      const failureData = { datasets: [] };\n\n      const colors = [\n        ['rgba(224, 162, 22, 0.1)', 'rgba(224, 162, 22, 0.3)', 'rgba(224, 162, 22, 0.5)', 'rgba(224, 162, 22, 0.7)', 'rgba(224, 162, 22, 1.0)'],\n        ['rgba(46, 184, 166, 0.1)', 'rgba(46, 184, 166, 0.3)', 'rgba(46, 184, 166, 0.5)', 'rgba(46, 184, 166, 0.7)', 'rgba(46, 184, 166, 1.0)'],\n        ['rgba(0, 148, 173, 0.1)', 'rgba(0, 148, 173, 0.3)', 'rgba(0, 148, 173, 0.5)', 'rgba(0, 148, 173, 0.7)', 'rgba(0, 148, 173, 1.0)'],\n        ['rgba(250, 126, 25, 0.1)', 'rgba(250, 126, 25, 0.3)', 'rgba(250, 126, 25, 0.5)', 'rgba(250, 126, 25, 0.7)', 'rgba(250, 126, 25, 1.0)']\n      ];\n      const yesIndex = response.data.data.names.findIndex(n => n === 'Sim');\n      machines.forEach((machine, machineIndex) => {\n        failureData.datasets.push({\n          label: machine,\n          backgroundColor: colors[machineIndex % colors.length],\n          borderColor: 'rgba(0, 0, 0, 0.0)',\n          data: this.predictionList[machineIndex].slice(-5).map(prediction => {\n            const y = prediction[yesIndex];\n            const r = 155*y**3 - 268*y**2 + 150*y + 12.5;\n            return { x: machineIndex + 1, y: y, r: r }\n          })\n        })\n      });\n\n      let score = this.state.score;\n      let measuresData = this.state.measuresData;\n      if (this.state.machineIndex > -1) {\n        const machineData = this.dataList[this.state.machineIndex];\n        measuresData = { labels: [], datasets: [] };\n        measuresData.labels = [\"Vibração 1\",\"Vibração 2\",\"Vibração 3\",\"Vibração 4\",\"Vibração 5\",\"Vibração 6\"];\n        if (machineData.length > 0) {\n          measuresData.datasets.push({\n            label: 'Medidas de Vibração',\n            backgroundColor: '#0094AD',\n            borderColor: '#0094AD',\n            borderWidth: 1,\n            data: machineData[machineData.length - 1].slice(4, 10)\n          });\n        }\n        const prediction = this.predictionList[this.state.machineIndex];\n        if (prediction.length > 0) {\n          score = prediction[prediction.length - 1][yesIndex].toFixed(2).replace('.', ',');\n        }\n      }\n\n      this.setState({\n        score: score,\n        measuresData: measuresData,\n        failureData: failureData\n      });\n    } else {\n      message.error('Não foi possível acessar a URL informada.');\n    }\n  }\n\n  render() {\n    const { url, isModalVisible, machine, measuresData, failureData } = this.state;\n    return (\n      <>\n        {url === '' ? (\n          <UrlInput theme='orange' onUrlSet={this.handleUrlSet} />\n        ) : (\n            <>\n              <Modal\n                title='Informar URL'\n                width={600}\n                visible={isModalVisible}\n                onOk={this.handleOk}\n                onCancel={this.handleCancel}\n                okText='OK'\n                cancelText='Cancelar'\n                okButtonProps={{ className: 'orange' }}\n              >\n                <Input placeholder='URL' onChange={e => this.setState({url: e.target.value})} value={url} onPressEnter={this.handleOk} />\n              </Modal>\n\n              <Form layout='inline'>\n                <Form.Item label='Máquinas'>\n                  <Select\n                    style={{ width: 300 }}\n                    placeholder='Selecione'\n                    value={machine}\n                    onChange={this.handleMachineSelected}>\n                    {machines.map((machine) => (\n                      <Option key={machine}>{machine}</Option>\n                    ))}\n                  </Select>\n                </Form.Item>\n                <Form.Item style={{ float: 'right', margin: 0 }}>\n                  <Button className='orange' style={{ width: 100 }} onClick={this.showModal}>URL</Button>\n                </Form.Item>\n              </Form>\n              <Row gutter={16}>\n                <Col span={6}>\n                  <div className='white-box no-padding'>\n                    <div className='white-box-header'>Máquina | <span className='blue'>{this.state.machine}</span></div>\n\n                    <div className='white-box-content'>\n                      <Button shape='circle' className='score'>\n                        {this.state.score}\n                      </Button>\n\n                      <div className='text-center'>probabilidade de falha</div>\n                    </div>\n                  </div>\n                </Col>\n                <Col span={18}>\n                  <div className='white-box no-padding'>\n                    <div className='white-box-header'>Medidas de vibração | <span className='blue'>{this.state.machine}</span></div>\n                    <div className='white-box-content'>\n                      <MeasuresChart data={measuresData} />\n                    </div>\n                  </div>\n                </Col>\n              </Row>\n              <Row>\n                <Col span={24}>\n                  <div className='white-box no-padding' style={{height: 400}}>\n                    <div className='white-box-header'>Probabilidade de falha  | <span className='blue'>Todas as máquinas</span></div>\n                    <div className='white-box-content'>\n                      <FailureChart data={failureData} />\n                    </div>\n                  </div>\n                </Col>\n              </Row>\n            </>\n          )}\n      </>\n    );\n  }\n}\n\nexport default MachineContent;\n","import { connect } from 'mqtt';\n\nexport const connectToDojot = (\n  url,\n  deviceSensors,\n  deviceStatus,\n  onSensorData,\n  onStatusData,\n) => {\n  const client = connect(url);\n\n  const topicSensors = `/admin/attrs/${deviceSensors}`;\n  const topicStatus = `/admin/attrs/${deviceStatus}`;\n\n  client.on('connect', () => {\n    client.subscribe(topicSensors, (err) => {\n      if (!err) {\n        client.publish('presence', 'Hello mqtt')\n      }\n      console.log(err);\n    });\n\n    client.subscribe(topicStatus, (err) => {\n      if (!err) {\n        client.publish('presence', 'Hello mqtt')\n      }\n      console.log(err);\n    });\n  });\n\n  client.on('message', (topic, message) => {\n    // message is Buffer\n    console.log(message.toString());\n    if (topic === topicSensors) {\n      onSensorData(message);\n    }\n    if (topic === topicSensors) {\n      onStatusData(message);\n    }\n  });\n};\n","import React from 'react';\n\nimport './style.scss';\nimport { Layout } from 'antd';\n\nimport MachineHeader from '../MachineHeader';\nimport MachineContent from '../MachineContent';\n\nconst { Header, Content } = Layout;\n\nconst MachineContainer = () => {\n  return (\n    <>\n      <Header>\n        <MachineHeader />\n      </Header>\n      <Layout className='machine-container'>\n        <Content className='machine-wrapper'>\n          <MachineContent />\n        </Content>\n      </Layout>\n    </>\n  );\n};\n\nexport default MachineContainer;\n","import Machine from '../pages/Machine';\n\nconst mainRoutes = [\n  {\n    path: '*',\n    exact: true,\n    icon: 'dollar',\n    title: 'Falha em Máquina',\n    component: Machine,\n  },\n];\n\nexport default mainRoutes;\n","import React from 'react';\n\nimport MachineContainer from '../../components/MachineContainer';\n\nconst Machine = () => (\n  <MachineContainer />\n);\n\nexport default Machine;\n","/*\n  Main component of the application.\n  This component is responsible for structuring the main layout of the\n  application.\n  This component is also responsible for routing the main content of the\n  application.\n*/\n\nimport React from 'react';\n\nimport { Switch, Route } from 'react-router-dom';\n\nimport { Layout } from 'antd';\n\nimport mainRoutes from '../../routes/main';\n\nconst App = () => (\n  <Layout>\n    <Layout>\n      <Switch>\n        {mainRoutes.map((mainRoute) => (\n          <Route\n            key={mainRoute.path}\n            exact={mainRoute.exact}\n            path={mainRoute.path}\n            component={mainRoute.component}\n          />\n        ))}\n      </Switch>\n    </Layout>\n  </Layout>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\nimport './style.scss';\nimport 'antd/dist/antd.css';\n\nimport App from './components/App';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}